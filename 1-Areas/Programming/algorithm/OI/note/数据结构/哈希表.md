# 哈希表

>最后更新：2025-08-28 03:36

~~哈基表~~**哈希表**,又称散列表，其优点在于能在O(1)时间内完成增，删，改，查操作，但不支持遍历，且空间复杂度极大

其通过「key-value」形式存储，其中key一般通过哈希函数转换成数组的索引
当键值为整数时，一般使用 $f(x)=x\mod M$作为哈希函数
当键值为字符串时，一般通过类似进制转换的思想转换成unsigned long long整数，再将其插入至哈希表

如果每个输入值都能映射到各不相同的索引值，则只需要根据索引存储到对应的位置即可
实战中容易出现两个不同的键值恰好计算出同一哈希值的情况，那就需要我们采用一些方式来处理冲突
我们可以在哈希表存储的索引处开一个链表(地址)，查询的时候遍历整个链表，期望时间复杂度为 $O(\frac{N}{M})$,由于 $M$ 通常较大，可以近似于常数

示例代码

```cpp
const int SIZE=1e6+5;
const int M=1e6-3;
struct hashmap{
    struct Data{
        long long key;
        int value;
        int next;
    }data[SIZE];

    int h[M],cnt;
    
    int hash(long long n){return (n%M+M)%M;}

    int& operator[](long long n){
        int p=hash(n);
        for(int i=h[p];i;i=data[i].next){
            if(data[i].key==n)return data[i].value;
        }
        return data[++cnt]=Data({n,-1,h[p]}),h[p]=cnt,data[cnt].value;
    }
    
    hashmap(){
        cnt=0;
        memset(h,0,sizeof(h));
    }
}A;
```
